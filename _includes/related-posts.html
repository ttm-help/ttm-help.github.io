<div class="row col mt-4">
    {% assign sorted_posts = site.categories[page.category] | where_exp: "post", "post.title != page.title" | sample:4 %}
    {% if sorted_posts and sorted_posts.size < 4 %}
    {% assign sorted_posts = site.posts | where_exp: "item", "item.title!= page.title" | sample:4 %}
    {% endif %}

    {% for site_category in site.data.categories.list %}
        {% if site_category.name == page.category %}
        {% assign category_url = site_category.url %}
        {% endif %}
    {% endfor %}
    <div class="row col">
            <span class="weight-bold mb-1" style="font-size: x-large">
                <a href="{{ category_url }}">{{ page.category }}</a>
            </span>
    </div>
    <div class="row">
        {% for post in sorted_posts %}
        <div class="col-md-3 content">
            <a href="{{ post.url }}">
                <img src="{{post.image}}"
                     alt="{{post.title}}"
                     title="{{post.description}}"
                     class="rounded">
                <p class="pt-1">{{ post.title | smartify }}</p>
            </a>
        </div>
        {% endfor %}
    </div>
</div>